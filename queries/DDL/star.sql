-- DDL for star schema layer

-- fact table
create or replace TABLE TASK_8_DWH.DIMENSIONAL.FLIGHTS (
	ID NUMBER(38,0) NOT NULL,
	PASSENGER_ID VARCHAR(16777216),
	AIRPORT_ID NUMBER(38,0),
	FLIGHT_STATUS_ID NUMBER(38,0),
	TICKET_TYPE_ID NUMBER(38,0),
	PASSENGER_STATUS_ID NUMBER(38,0),
	ARRIVAL_AIRPORTS_ID NUMBER(38,0),
	DEPARTURE_DATE DATE,
	primary key (ID)
);

-- dimensional tables
create or replace TABLE TASK_8_DWH.DIMENSIONAL.AIRPORTS (
	ID NUMBER(38,0) NOT NULL autoincrement start 1 increment 1 noorder,
	AIRPORT_NAME VARCHAR(16777216),
	COUNTRY_CODE VARCHAR(16777216),
	COUNTRY_NAME VARCHAR(16777216),
	CONTINENT_NAME VARCHAR(16777216),
	CONTINENT_CODE VARCHAR(16777216),
	primary key (ID)
);

create or replace TABLE TASK_8_DWH.DIMENSIONAL.ARRIVAL_AIRPORTS (
	ID NUMBER(38,0) NOT NULL autoincrement start 1 increment 1 noorder,
	CODE VARCHAR(16777216),
	primary key (ID)
);

create or replace TABLE TASK_8_DWH.DIMENSIONAL.FLIGHT_STATUSES (
	ID NUMBER(38,0) NOT NULL autoincrement start 1 increment 1 noorder,
	STATUS_NAME VARCHAR(16777216),
	primary key (ID)
);

create or replace TABLE TASK_8_DWH.DIMENSIONAL.PASSENGERS (
	ID VARCHAR(16777216) NOT NULL,
	FIRST_NAME VARCHAR(16777216),
	LAST_NAME VARCHAR(16777216),
	GENDER VARCHAR(16777216),
	AGE NUMBER(38,0),
	NATIONALITY VARCHAR(16777216),
	primary key (ID)
);

create or replace TABLE TASK_8_DWH.DIMENSIONAL.PASSENGER_STATUSES (
	ID NUMBER(38,0) NOT NULL autoincrement start 1 increment 1 noorder,
	STATUS_NAME VARCHAR(16777216),
	primary key (ID)
);

create or replace TABLE TASK_8_DWH.DIMENSIONAL.TICKET_TYPES (
	ID NUMBER(38,0) NOT NULL autoincrement start 1 increment 1 noorder,
	TYPE_NAME VARCHAR(16777216),
	primary key (ID)
);